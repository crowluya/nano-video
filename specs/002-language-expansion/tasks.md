# 多语言扩展 - 任务列表

> 基于 plan.md 的可执行任务分解

---

## 元信息

| 字段 | 值 |
|------|-----|
| **基于方案** | plan.md v1.0 |
| **预计工时** | ~14 小时 |
| **执行状态** | 待开始 |

---

## 任务说明

- [P] 标记表示可并行执行
- 任务按依赖关系排序
- 每个任务完成后标记 [x]

---

## Phase 1: 基础设施（数据层）

### T001: 更新语言路由配置
- [ ] 更新 `i18n/routing.ts` 的 `LOCALES` 数组（添加 9 语言）
- [ ] 更新 `LOCALE_NAMES` 对象
- [ ] 更新 `LOCALE_TO_HREFLANG` 对象
- [ ] 验证 TypeScript 类型检查通过

**依赖**: 无
**预计**: 10分钟

---

### T002: 创建翻译目录结构
- [ ] 创建 `i18n/messages/es/` 目录
- [ ] 创建 `i18n/messages/fr/` 目录
- [ ] 创建 `i18n/messages/ko/` 目录
- [ ] 创建 `i18n/messages/pt/` 目录
- [ ] 创建 `i18n/messages/de/` 目录
- [ ] 创建 `i18n/messages/it/` 目录
- [ ] 创建 `i18n/messages/nl/` 目录
- [ ] 创建 `i18n/messages/ru/` 目录
- [ ] 创建 `i18n/messages/pl/` 目录

**依赖**: T001
**预计**: 5分钟

---

### T003: 配置字体支持
- [ ] 更新 `app/globals.css` 导入 Inter + Noto Sans KR
- [ ] 设置 `--font-sans` CSS 变量
- [ ] 验证韩语、俄语字符显示

**依赖**: 无
**预计**: 10分钟

---

### T004: 创建 AI 翻译脚本
- [ ] 创建 `scripts/translate-all.ts`
- [ ] 实现读取英文 JSON 逻辑
- [ ] 集成 AI 翻译 API（使用 kie.ai 或其他）
- [ ] 实现品牌名/术语过滤逻辑
- [ ] 实现写入目标语言文件逻辑

**依赖**: T002
**预计**: 45分钟

---

### T005: 创建完整性检查脚本
- [ ] 创建 `scripts/check-i18n.ts`
- [ ] 实现提取所有 JSON key 逻辑
- [ ] 实现跨语言 key 对比
- [ ] 输出缺失 key 报告

**依赖**: T002
**预计**: 30分钟

---

## Phase 2: 翻译生成（Phase 1 语言）

### T101 [P]: 生成西班牙语翻译
- [ ] 运行 `pnpm tsx scripts/translate-all.ts es`
- [ ] 检查生成的 `es/*.json` 文件
- [ ] 人工校对 `Landing.json` 关键文案
- [ ] 人工校对 `common.json` UI 文本

**依赖**: T004
**预计**: 40分钟

---

### T102 [P]: 生成法语翻译
- [ ] 运行 `pnpm tsx scripts/translate-all.ts fr`
- [ ] 检查生成的 `fr/*.json` 文件
- [ ] 人工校对 `Landing.json` 关键文案
- [ ] 人工校对 `common.json` UI 文本

**依赖**: T004
**预计**: 40分钟

---

### T103 [P]: 生成韩语翻译
- [ ] 运行 `pnpm tsx scripts/translate-all.ts ko`
- [ ] 检查生成的 `ko/*.json` 文件
- [ ] 人工校对 `Landing.json` 关键文案
- [ ] 验证韩语敬语使用正确

**依赖**: T004
**预计**: 40分钟

---

### T104 [P]: 生成葡萄牙语翻译
- [ ] 运行 `pnpm tsx scripts/translate-all.ts pt`
- [ ] 检查生成的 `pt/*.json` 文件
- [ ] 人工校对 `Landing.json` 关键文案
- [ ] 确认使用巴西葡语

**依赖**: T004
**预计**: 40分钟

---

### T105: Phase 1 完整性检查
- [ ] 运行 `pnpm tsx scripts/check-i18n.ts`
- [ ] 修复所有缺失的 key
- [ ] 验证 JSON 格式正确

**依赖**: T101, T102, T103, T104
**预计**: 15分钟

---

## Phase 3: 翻译生成（Phase 2 语言）

### T201 [P]: 生成德语翻译
- [ ] 运行 `pnpm tsx scripts/translate-all.ts de`
- [ ] 检查生成的 `de/*.json` 文件
- [ ] 人工校对长文本显示
- [ ] 验证复合词正确

**依赖**: T004
**预计**: 35分钟

---

### T202 [P]: 生成意大利语翻译
- [ ] 运行 `pnpm tsx scripts/translate-all.ts it`
- [ ] 检查生成的 `it/*.json` 文件
- [ ] 人工校对关键文案
- [ ] 验证性数配合正确

**依赖**: T004
**预计**: 35分钟

---

### T203 [P]: 生成俄语翻译
- [ ] 运行 `pnpm tsx scripts/translate-all.ts ru`
- [ ] 检查生成的 `ru/*.json` 文件
- [ ] 人工校对关键文案
- [ ] 验证 Cyrillic 字符显示

**依赖**: T004
**预计**: 35分钟

---

### T204: Phase 2 完整性检查
- [ ] 运行 `pnpm tsx scripts/check-i18n.ts`
- [ ] 修复所有缺失的 key

**依赖**: T201, T202, T203
**预计**: 15分钟

---

## Phase 4: 翻译生成（Phase 3 语言）

### T301 [P]: 生成荷兰语翻译
- [ ] 运行 `pnpm tsx scripts/translate-all.ts nl`
- [ ] 检查生成的 `nl/*.json` 文件
- [ ] 人工校对关键文案

**依赖**: T004
**预计**: 30分钟

---

### T302 [P]: 生成波兰语翻译
- [ ] 运行 `pnpm tsx scripts/translate-all.ts pl`
- [ ] 检查生成的 `pl/*.json` 文件
- [ ] 人工校对关键文案
- [ ] 验证特殊字符显示

**依赖**: T004
**预计**: 30分钟

---

### T303: 最终完整性检查
- [ ] 运行 `pnpm tsx scripts/check-i18n.ts`
- [ ] 确保所有 12 语言 key 完整
- [ ] 修复所有问题

**依赖**: T301, T302
**预计**: 15分钟

---

## Phase 5: SEO 优化

### T401: 创建 OG 图片生成脚本
- [ ] 创建 `scripts/generate-og.ts`
- [ ] 定义各语言标题映射
- [ ] 实现背景图 + 文字合成
- [ ] 生成 12 张 OG 图片

**依赖**: T303
**预计**: 45分钟

---

### T402: 更新 Layout Metadata
- [ ] 更新 `app/[locale]/layout.tsx`
- [ ] 配置 `alternates.languages`
- [ ] 配置 `openGraph.images` 动态路径
- [ ] 验证各语言页面源码

**依赖**: T401
**预计**: 20分钟

---

### T403: 配置 Sitemap
- [ ] 更新 `app/sitemap.ts`
- [ ] 添加所有 12 语言 URL
- [ ] 验证 `https://nanobananavideo.net/sitemap.xml`

**依赖**: T402
**预计**: 15分钟

---

## Phase 6: 测试验证

### T501: 构建验证
- [ ] 运行 `pnpm lint` - 无错误
- [ ] 运行 `pnpm build` - 构建成功
- [ ] 检查构建日志无警告

**依赖**: T403
**预计**: 10分钟

---

### T502: 手动功能测试
- [ ] 测试语言切换器（所有 12 语言）
- [ ] 测试 URL 结构正确（`/es/pricing` 等）
- [ ] 测试首页各语言显示
- [ ] 测试 Pricing 页面各语言显示
- [ ] 测试 Dashboard 页面各语言显示

**依赖**: T501
**预计**: 30分钟

---

### T503: UI 文本测试
- [ ] 检查德语长文本无溢出
- [ ] 检查韩语文本对齐正确
- [ ] 检查俄语字符显示正确
- [ ] 检查波兰语特殊字符显示
- [ ] 测试移动端各语言显示

**依赖**: T501
**预计**: 25分钟

---

### T504: SEO 验证
- [ ] 检查各语言页面源码 hreflang 标签
- [ ] 检查 OG 图片路径正确
- [ ] 使用 Facebook Sharing Debugger 测试
- [ ] 检查 sitemap.xml 包含所有语言

**依赖**: T403
**预计**: 20分钟

---

### T505: Lighthouse 测试
- [ ] 对首页运行 Lighthouse（抽样 3-4 语言）
- [ ] 确保 Performance > 90
- [ ] 确保 SEO > 90
- [ ] 确保 Accessibility > 90

**依赖**: T502
**预计**: 15分钟

---

### T506: 修复发现的问题
- [ ] 修复 T502-T505 发现的所有问题
- [ ] 重新运行验证测试
- [ ] 确保所有测试通过

**依赖**: T502, T503, T504, T505
**预计**: 30分钟

---

## Phase 7: 文档与交付

### T601: 更新项目文档
- [ ] 更新 `CLAUDE.md` 添加新语言说明
- [ ] 更新 `README.md` 语言列表（如有）
- [ ] 记录翻译流程供后续参考

**依赖**: T506
**预计**: 15分钟

---

### T602: 生成提交信息
- [ ] 运行 `/commit`
- [ ] 审查生成的提交信息
- [ ] 确认提交包含所有变更

**依赖**: T601
**预计**: 5分钟

---

### T603: 创建 PR
- [ ] 推送到 `language-dev` 分支
- [ ] 创建 Pull Request 到 `main`
- [ ] 填写 PR 描述（包含语言列表和测试结果）

**依赖**: T602
**预计**: 10分钟

---

## 任务统计

| Phase | 任务数 | 总预计 | 完成状态 |
|-------|--------|--------|----------|
| Phase 1: 基础设施 | 5 | 100min | 0/5 |
| Phase 2: 翻译 P0 | 5 | 175min | 0/5 |
| Phase 3: 翻译 P1 | 4 | 120min | 0/4 |
| Phase 4: 翻译 P2 | 3 | 75min | 0/3 |
| Phase 5: SEO 优化 | 3 | 80min | 0/3 |
| Phase 6: 测试验证 | 6 | 130min | 0/6 |
| Phase 7: 文档交付 | 3 | 30min | 0/3 |
| **总计** | **29** | **~14h** | **0/29** |

---

## 并行执行机会

以下任务可以并行执行：

**Phase 2**:
- T101 + T102 + T103 + T104 (各语言翻译可并行)

**Phase 3**:
- T201 + T202 + T203 (各语言翻译可并行)

**Phase 4**:
- T301 + T302 (各语言翻译可并行)

**Phase 6**:
- T502 + T503 + T504 (不同测试可并行)

---

## 进度跟踪

```text
基础设施       ░░░░░░░░░░░░░░░░░░░░  0% (0/5)

翻译 P0        ░░░░░░░░░░░░░░░░░░░░  0% (0/5)

翻译 P1        ░░░░░░░░░░░░░░░░░░░░  0% (0/4)

翻译 P2        ░░░░░░░░░░░░░░░░░░░░  0% (0/3)

SEO 优化       ░░░░░░░░░░░░░░░░░░░░  0% (0/3)

测试验证       ░░░░░░░░░░░░░░░░░░░░  0% (0/6)

文档交付       ░░░░░░░░░░░░░░░░░░░░  0% (0/3)
```

---

## 语言清单

| 代码 | 语言 | Phase | 状态 |
|------|------|-------|------|
| `en` | English | - | ✅ 已有 |
| `zh` | 中文 | - | ✅ 已有 |
| `ja` | 日本語 | - | ✅ 已有 |
| `es` | Español | P0 | ⬜ 待实现 |
| `fr` | Français | P0 | ⬜ 待实现 |
| `ko` | 한국어 | P0 | ⬜ 待实现 |
| `pt` | Português | P0 | ⬜ 待实现 |
| `de` | Deutsch | P1 | ⬜ 待实现 |
| `it` | Italiano | P1 | ⬜ 待实现 |
| `ru` | Русский | P1 | ⬜ 待实现 |
| `nl` | Nederlands | P2 | ⬜ 待实现 |
| `pl` | Polski | P2 | ⬜ 待实现 |

---

*任务开始时间: 待定*
*预计完成时间: 待定*
