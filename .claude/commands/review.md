---
description: 审查代码质量并对照 constitution.md 和 AGENTS.md
argument-hint: <file_or_directory>
model: opus
allowed-tools:
  - Read
  - Grep
  - Glob
  - Bash
---

# 代码审查指令

请对 `$ARGUMENTS` 进行全面的代码审查。

## 审查步骤

1. **读取文件**
   - 使用 Glob 查找 `$ARGUMENTS` 相关的 .ts, .tsx 文件
   - 读取所有相关文件内容

2. **对照规范检查**
   - 阅读 `@constitution.md` 检查是否违反项目宪法
   - 阅读 `@AGENTS.md` 检查是否符合开发规范
   - 检查 i18n 是否正确使用（无硬编码文本）

3. **运行检查**
   - 执行 `!pnpm lint` 检查代码风格

4. **输出审查报告**

## 输出格式

### 总体评价
代码质量等级：优秀 / 良好 / 需改进

### 优点
- 列出 3-5 个亮点

### 问题清单（按优先级）

#### 🔴 高优先级（必须修复）
- **问题**: 问题描述
- **位置**: `文件路径:行号`
- **规范**: 违反的规范条款
- **建议**: 具体修复方案

#### 🟡 中优先级（建议修复）
- ...

#### 🟢 低优先级（优化建议）
- ...

### i18n 检查
- 检测到的硬编码文本: 列出位置
- 缺失的翻译 key: 列出

### 类型安全
- 使用了 `any` 的位置
- 缺少类型定义的地方
